<h2 *ngIf="!isEdit">Nuevo Formulario</h2>
<h2 *ngIf="isEdit">Editar Formulario</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="form" class="formulario-form">
  <div class="form-group">
    <label for="nombre">Nombre del formulario<span class="requerido">*</span></label>
    <input id="nombre" formControlName="nombre" [class.error]="form.get('nombre')?.invalid && form.get('nombre')?.touched">
    <div *ngIf="form.get('nombre')?.invalid && form.get('nombre')?.touched" class="error">
      El nombre es requerido.
    </div>
  </div>
  
  <div class="form-group">
    <label for="descripcion">Descripción</label>
    <textarea id="descripcion" formControlName="descripcion"></textarea>
  </div>

  <div class="botones">
    <button type="submit" [disabled]="form.invalid">{{ isEdit ? 'Actualizar' : 'Crear' }}</button>
    <button type="button" (click)="volver()">Cancelar</button>
  </div>
  <div *ngIf="error" class="error">{{ error }}</div>
</form>

<div *ngIf="success" class="success">{{ success }}</div>

<!-- Sección para los campos asociados -->
<div *ngIf="isEdit && formularioId">
  <h3>Campos del formulario</h3>
  <campos-formulario-list [formularioId]="formularioId"></campos-formulario-list>
</div>

<div *ngIf="isEdit && formularioId">
  <h3>Tareas asociadas</h3>
  <tareas-formulario-list [formularioId]="formularioId"></tareas-formulario-list>
</div>

